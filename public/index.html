<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" type="text/css" href="./styles/boardgame_style.css">
    </head>
    <body>

        <header>
            
        </header>

        <main>
            
            <div id="roll_overlay" class="mainscreen_overlay">
                <div id="roll_animation_panel" class="game_roll_panel">
                    <div class="content_centerer">
                        <div class="content_block">
                            <div>Selecting game...</div>
                            <img src="./images/dice_fall.gif">
                        </div>
                    </div>
                </div>
                <div id="roll_result_panel" class="game_roll_panel">
                    <div class="content_centerer">
                        <div class="content_block">
                            <div>Picked:</div>
                            <div id="roll_result_title">-</div>
                            <img id="roll_result_img" src="">
                            <div>out of <span id="roll_result_length">-</span> games</div>
                            <button id="button_play">Play it</button>
                            <button id="button_reroll">Reroll</button>
                            <button id="button_updatefilters">Change filters</button>
                        </div>
                    </div>
                </div>
                <div id="roll_nogame_panel" class="game_roll_panel">
                    <div class="content_centerer">
                        <div class="content_block">
                            <div>No games were found! :(</div>
                            <img src="./images/empty_box.jpg">
                            <button id="button_closenogame">Ok, I'll try something else!</button>
                        </div>
                    </div>
                    
                </div>
            </div>

            <div id="add_game_overlay" class="mainscreen_overlay">

                <div id="add_game_screen">
                    <button id="add_game_close">Close</button>
                    <button id="add_game_searchbgg">Search BGG</button>

                    <form id="add_game_form" autocomplete="off">

                        <!-- TODO: upload custom image-->
                        <div>Title:<input id="newgame_title" required></div>
                        <div><img id="newgame_image" src="/images/game_box_missing.jpg"></div>
                        <div>Players (min):<input id="newgame_players_min" type="number" required></div>
                        <div>Players (max):<input id="newgame_players_max" type="number"  required></div>
                        <div>Duration (min):<input id="newgame_duration_min" type="number"  required></div>
                        <div>Duration (max):<input id="newgame_duration_max" type="number"  required></div>
                        <div>Players (age):<input id="newgame_players_age" type="number"  required></div>

                        <div>
                            <button type="submit">Add game</button>
                        </div>
                    </form>
                </div>

                <div id="screen_search_bgg">
                    <form id="search_game_form" autocomplete="off">
                        <div><input id="search_term" required></div>
                        <div><button type="submit">Search</button></div>
                    </form>

                    <div id="search_game_results"></div>

                    <button id="search_game_close">Close</button>
                </div>

                <div id="screen_bgg_details">

                    <div id="bgg_details_game">
                        <div id="bgg_details_title">?</div>
                        
                        <div>
                            <div>
                                <img id="bgg_details_cover" src="/images/game_box_missing.jpg">
                            </div>
                            <div>
                                <div>
                                    <span>Players:</span>
                                    <span id="bgg_details_players_min">?</span>
                                    -
                                    <span id="bgg_details_players_max">?</span>
                                    (<span id="bgg_details_age_min">?</span>+)
                                </div>
                                <div>
                                    <span>Time:</span>
                                    <span id="bgg_details_time_min">?</span>
                                    -
                                    <span id="bgg_details_time_max">?</span>
                                    min
                                </div>
                            </div>
                            <div>
                                <button id="bgg_details_select">Select</button>
                                <button id="bgg_details_close">Close</button>
                            </div>
                        </div>

                    </div>

                    <div>Available names:</div>
                    <div id="bgg_details_altnames"></div>
                    <div>Available versions:</div>
                    <div id="bgg_details_versions"></div>
                    
                    

                </div>
                
            </div>



            <div id="app_menu" class="app_menu">
                <a id="app_menu_roll">Roll!</a>
                <a id="app_menu_games">Games</a>
            </div>

            <div id="game_selection" class="mainscreen">

                <!--<div class="game_roll_form"></div>-->
                <div class="content_centerer">
                    <div class="content_block game_roll_form">
                        <form id="roll_form" autocomplete="off">
                            
                            <div>I'm looking for a game for</div>
                            <input id="roll_player_num" type="number" required value="3" placeholder="...">
                            <div>people, that takes under</div>
                            <input id="roll_duration_max" type="number" required value="120" placeholder="...">
                            <div>minutes to play, for</div>
                            <input id="roll_player_age_min" type="number" required value="10"placeholder="...">
                            <div>years and older.</div>
                            <button type="submit">Pick a game</button>
                        </form>
                    </div>
                </div>
            </div>
                
            <div id="game_management" class="mainscreen">
                <div class="container_flexflow">
                    <div class="container_scrollable">
                        <div id="game_card_list">

                        </div>
                    </div>

                    <div class="app_submenu app_menu">
                        <a id="add_game">+</a>
                    </div>
                </div>
            </div>


            
        </main>

        <!-- template for game record in management screen -->
        <template id="game_record_template">
            <div class="game_record">
                <div class="game_record_title">?</div>
                <div class="game_record_info">
                    <img class="game_cover" src="/images/game_box_missing.jpg">
                    <div>
                        <div>
                            <span class="game_record_label">Players:</span>
                            <span class="game_record_players_min">?</span>
                            -
                            <span class="game_record_players_max">?</span>
                            (<span class="game_record_players_age">?</span>+)
                        </div>
                        <div>
                            <span class="game_record_label">Time:</span>
                            <span class="game_record_duration_min">?</span>
                            -
                            <span class="game_record_duration_max">?</span>
                            min
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <!-- libraries -->
        <script src="/scripts/jquery-3.4.1.js"></script>
        <script src="/scripts/pouchdb-7.1.1.js"></script>
        <script src="/scripts/pouchdb.find.js"></script>
        
        <!-- app code -->
        <script src="/scripts/game_object.js"></script>
        <script src="/scripts/bgg_info.js"></script>
        <script src="/scripts/gamedb_local.js"></script>
        <script src="/scripts/app.js"></script>


    

    </body>
</html>